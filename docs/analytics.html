<!DOCTYPE html>  <html> <head>   <title>analytics.js</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               analytics.js             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>A reference to the global object.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="kd">var</span> <span class="nx">root</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>A list of available providers that <em>can</em> be initialized by you.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="kd">var</span> <span class="nx">availableProviders</span> <span class="o">=</span> <span class="p">{};</span></pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <p>Whether analytics.js has been initialized.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="kd">var</span> <span class="nx">initialized</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p>A helper to shallow-ly clone objects, so that they don't get mangled or
added to by different analytics providers because of the reference.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="kd">var</span> <span class="nx">clone</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">obj</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">clone</span> <span class="o">=</span> <span class="p">{};</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">prop</span> <span class="k">in</span> <span class="nx">obj</span><span class="p">)</span> <span class="nx">clone</span><span class="p">[</span><span class="nx">prop</span><span class="p">]</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">[</span><span class="nx">prop</span><span class="p">];</span>
        <span class="k">return</span> <span class="nx">clone</span><span class="p">;</span>
    <span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p>The <code>analytics</code> object that will be exposed to you on the global object.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">root</span><span class="p">.</span><span class="nx">analytics</span> <span class="o">=</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>A list of providers that have been initialized.</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="nx">providers</span> <span class="o">:</span> <span class="p">[],</span></pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <h1>Initialize</h1>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <p>Call <strong>initialize</strong> to setup analytics.js before identifying or
tracking any users or events. It takes a list of providers that you
want to enable, along with settings for each provider. (Settings vary
depending on the provider.) Here's what a call to <strong>initialize</strong>
might look like:</p>

<pre><code>analytics.initialize({
    'Google Analytics' : {
        apiKey : 'TEST'
    },
    'Segment.io' : {
        apiKey      : 'TEST',
        environment : 'production'
    }
});
</code></pre>

<p><code>providers</code> - a dictionary of the providers you want to enabled. The
keys are the names of the providers and their values are the settings
they get passed on initialization.</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="nx">initialize</span> <span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">providers</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">initializedProviders</span> <span class="o">=</span> <span class="p">[];</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">key</span> <span class="k">in</span> <span class="nx">providers</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">availableProviders</span><span class="p">[</span><span class="nx">key</span><span class="p">])</span> <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;Couldn\&#39;t find a provider named &quot;&#39;</span><span class="o">+</span><span class="nx">key</span><span class="o">+</span><span class="s1">&#39;&quot;&#39;</span><span class="p">);</span>
                <span class="nx">availableProviders</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">initialize</span><span class="p">(</span><span class="nx">providers</span><span class="p">[</span><span class="nx">key</span><span class="p">]);</span>
                <span class="nx">initializedProviders</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">availableProviders</span><span class="p">[</span><span class="nx">key</span><span class="p">]);</span>
            <span class="p">}</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">providers</span> <span class="o">=</span> <span class="nx">initializedProviders</span><span class="p">;</span>

            <span class="nx">initialized</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
        <span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-10">&#182;</a>               </div>               <h1>Identify</h1>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-11">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-11">&#182;</a>               </div>               <p>Identifying a user ties all of their actions to an ID you recognize
and records properties about a user. An example identify:</p>

<pre><code>analytics.identify('user', {
    name : 'Achilles',
    age  : 23
});
</code></pre>

<p><code>userId</code> - the ID you recognize your user by, like an email.</p>

<p><code>traits</code> - an optional dictionary of properties to tie to a user.</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="nx">identify</span> <span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">userId</span><span class="p">,</span> <span class="nx">traits</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">initialized</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">provider</span><span class="p">;</span> <span class="nx">provider</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">providers</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">provider</span><span class="p">.</span><span class="nx">identify</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>
                <span class="kd">var</span> <span class="nx">clonedTraits</span> <span class="o">=</span> <span class="nx">clone</span><span class="p">(</span><span class="nx">traits</span><span class="p">);</span>
                <span class="nx">provider</span><span class="p">.</span><span class="nx">identify</span><span class="p">(</span><span class="nx">userId</span><span class="p">,</span> <span class="nx">clonedTraits</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-12">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-12">&#182;</a>               </div>               <h1>Track</h1>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-13">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-13">&#182;</a>               </div>               <p>Whenever a visitor triggers an event on your site that you're
interested in, you'll want to track it. An example track:</p>

<pre><code>analytics.track('party', {
    level  : 'hard',
    volume : 11
});
</code></pre>

<p><code>event</code> - the name of the event.</p>

<p><code>properties</code> - an optional dictionary of properties of the event.</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="nx">track</span> <span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">properties</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">initialized</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">provider</span><span class="p">;</span> <span class="nx">provider</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">providers</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">provider</span><span class="p">.</span><span class="nx">track</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>
                <span class="kd">var</span> <span class="nx">clonedProperties</span> <span class="o">=</span> <span class="nx">clone</span><span class="p">(</span><span class="nx">properties</span><span class="p">);</span>
                <span class="nx">provider</span><span class="p">.</span><span class="nx">track</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">clonedProperties</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>

    <span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-14">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-14">&#182;</a>               </div>               <h1>Providers</h1>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-15">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-15">&#182;</a>               </div>               <p><strong>Remove</strong> the providers you don't want to use.</p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-16">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-16">&#182;</a>               </div>               <h2>Google Analytics</h2>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">availableProviders</span><span class="p">[</span><span class="s1">&#39;Google Analytics&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>

        <span class="nx">initialize</span> <span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">settings</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">_gaq</span> <span class="o">=</span> <span class="nx">_gaq</span> <span class="o">||</span> <span class="p">[];</span>
            <span class="nx">_gaq</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="s1">&#39;_setAccount&#39;</span><span class="p">,</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">apiKey</span><span class="p">]);</span>
            <span class="nx">_gaq</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="s1">&#39;_trackPageview&#39;</span><span class="p">]);</span>
            <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                <span class="kd">var</span> <span class="nx">ga</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;script&#39;</span><span class="p">);</span> <span class="nx">ga</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="s1">&#39;text/javascript&#39;</span><span class="p">;</span> <span class="nx">ga</span><span class="p">.</span><span class="nx">async</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                <span class="nx">ga</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;https:&#39;</span> <span class="o">==</span> <span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">protocol</span> <span class="o">?</span> <span class="s1">&#39;https://ssl&#39;</span> <span class="o">:</span> <span class="s1">&#39;http://www&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;.google-analytics.com/ga.js&#39;</span><span class="p">;</span>
                <span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;script&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span> <span class="nx">s</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">ga</span><span class="p">,</span> <span class="nx">s</span><span class="p">);</span>
            <span class="p">})();</span>
            <span class="nb">window</span><span class="p">.</span><span class="nx">_gaq</span> <span class="o">=</span> <span class="nx">_gaq</span><span class="p">;</span>
        <span class="p">},</span>

        <span class="nx">track</span> <span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">properties</span><span class="p">)</span> <span class="p">{</span>
            <span class="nb">window</span><span class="p">.</span><span class="nx">_gaq</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="s1">&#39;_trackEvent&#39;</span><span class="p">,</span> <span class="s1">&#39;All&#39;</span><span class="p">,</span> <span class="nx">event</span><span class="p">]);</span>
        <span class="p">}</span>
    <span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-17">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-17">&#182;</a>               </div>               <h2>Segment.io</h2>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">availableProviders</span><span class="p">[</span><span class="s1">&#39;Segment.io&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>

        <span class="nx">initialize</span> <span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">settings</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">seg</span><span class="o">=</span><span class="nx">seg</span><span class="o">||</span><span class="p">[];</span><span class="nx">seg</span><span class="p">.</span><span class="nx">load</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nb">document</span><span class="p">;</span><span class="nx">b</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;script&quot;</span><span class="p">),</span><span class="nx">b</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">async</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;script&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span><span class="nx">c</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">),</span><span class="nx">d</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="kd">function</span><span class="p">(){</span><span class="nx">seg</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="nx">a</span><span class="p">].</span><span class="nx">concat</span><span class="p">(</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span><span class="mi">0</span><span class="p">)))}},</span><span class="nx">e</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;init&quot;</span><span class="p">,</span><span class="s2">&quot;identify&quot;</span><span class="p">,</span><span class="s2">&quot;track&quot;</span><span class="p">,</span><span class="s2">&quot;callback&quot;</span><span class="p">,</span><span class="s2">&quot;verbose&quot;</span><span class="p">];</span><span class="k">for</span><span class="p">(</span><span class="nx">f</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">f</span><span class="o">&lt;</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">f</span><span class="o">+=</span><span class="mi">1</span><span class="p">)</span><span class="nx">seg</span><span class="p">[</span><span class="nx">e</span><span class="p">[</span><span class="nx">f</span><span class="p">]]</span><span class="o">=</span><span class="nx">d</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="nx">f</span><span class="p">])};</span>
            <span class="nb">window</span><span class="p">.</span><span class="nx">seg</span><span class="o">=</span><span class="nx">seg</span><span class="p">;</span>
            <span class="nx">seg</span><span class="p">.</span><span class="nx">load</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">protocol</span><span class="o">+</span><span class="s1">&#39;//d47xnnr8b1rki.cloudfront.net/api/js/v2/segmentio.js&#39;</span><span class="p">);</span>
            <span class="nb">window</span><span class="p">.</span><span class="nx">seg</span><span class="p">.</span><span class="nx">verbose</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
            <span class="nb">window</span><span class="p">.</span><span class="nx">seg</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nx">apiKey</span><span class="p">,</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">environment</span><span class="p">);</span>
        <span class="p">},</span>

        <span class="nx">identify</span> <span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">userId</span><span class="p">,</span> <span class="nx">traits</span><span class="p">)</span> <span class="p">{</span>
            <span class="nb">window</span><span class="p">.</span><span class="nx">seg</span><span class="p">.</span><span class="nx">identify</span><span class="p">(</span><span class="nx">userId</span><span class="p">,</span> <span class="nx">traits</span><span class="p">);</span>
        <span class="p">},</span>

        <span class="nx">track</span> <span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">properties</span><span class="p">)</span> <span class="p">{</span>
            <span class="nb">window</span><span class="p">.</span><span class="nx">seg</span><span class="p">.</span><span class="nx">track</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">properties</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-18">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-18">&#182;</a>               </div>               <h2>KissMetrics</h2>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">availableProviders</span><span class="p">[</span><span class="s1">&#39;KissMetrics&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>

        <span class="nx">initialize</span> <span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">settings</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">_kmq</span> <span class="o">=</span> <span class="nx">_kmq</span> <span class="o">||</span> <span class="p">[];</span>
            <span class="nb">window</span><span class="p">.</span><span class="nx">_kmq</span> <span class="o">=</span> <span class="nx">_kmq</span><span class="p">;</span>
            <span class="kd">function</span> <span class="nx">_kms</span><span class="p">(</span><span class="nx">u</span><span class="p">){</span>
                <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
                    <span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="nb">document</span><span class="p">,</span> <span class="nx">f</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;script&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span>
                    <span class="nx">s</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;script&#39;</span><span class="p">);</span>
                    <span class="nx">s</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="s1">&#39;text/javascript&#39;</span><span class="p">;</span> <span class="nx">s</span><span class="p">.</span><span class="nx">async</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span> <span class="nx">s</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="nx">u</span><span class="p">;</span>
                    <span class="nx">f</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="nx">f</span><span class="p">);</span>
                <span class="p">},</span> <span class="mi">1</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="nx">_kms</span><span class="p">(</span><span class="s1">&#39;//i.kissmetrics.com/i.js&#39;</span><span class="p">);</span>
            <span class="nx">_kms</span><span class="p">(</span><span class="s1">&#39;//doug1izaerwt3.cloudfront.net/&#39;</span> <span class="o">+</span> <span class="nx">settings</span><span class="p">.</span><span class="nx">apiKey</span> <span class="o">+</span> <span class="s1">&#39;.1.js&#39;</span><span class="p">);</span>
            <span class="nx">_kmq</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="s1">&#39;record&#39;</span><span class="p">,</span> <span class="s1">&#39;Viewed page&#39;</span><span class="p">]);</span>
        <span class="p">},</span>

        <span class="nx">identify</span> <span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">userId</span><span class="p">,</span> <span class="nx">traits</span><span class="p">)</span> <span class="p">{</span>
            <span class="nb">window</span><span class="p">.</span><span class="nx">_kmq</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="s1">&#39;identify&#39;</span><span class="p">,</span> <span class="nx">userId</span><span class="p">]);</span>
            <span class="nb">window</span><span class="p">.</span><span class="nx">_kmq</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="s1">&#39;set&#39;</span><span class="p">,</span> <span class="nx">traits</span><span class="p">]);</span>
        <span class="p">},</span>

        <span class="nx">track</span> <span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">properties</span><span class="p">)</span> <span class="p">{</span>
            <span class="nb">window</span><span class="p">.</span><span class="nx">_kmq</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="s1">&#39;record&#39;</span><span class="p">,</span> <span class="nx">event</span><span class="p">,</span> <span class="nx">properties</span><span class="p">]);</span>
        <span class="p">}</span>
    <span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-19">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-19">&#182;</a>               </div>               <h2>Mixpanel</h2>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">availableProviders</span><span class="p">[</span><span class="s1">&#39;Mixpanel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>

        <span class="nx">usePeople</span> <span class="o">:</span> <span class="kc">false</span><span class="p">,</span>

        <span class="nx">initialize</span> <span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">settings</span><span class="p">)</span> <span class="p">{</span>
            <span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">e</span><span class="p">;</span><span class="nx">a</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;script&quot;</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">async</span><span class="o">=!</span><span class="mi">0</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;https:&quot;</span><span class="o">===</span><span class="nx">d</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">protocol</span><span class="o">?</span><span class="s2">&quot;https:&quot;</span><span class="o">:</span><span class="s2">&quot;http:&quot;</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;//api.mixpanel.com/site_media/js/api/mixpanel.2.js&#39;</span><span class="p">;</span><span class="nx">b</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;script&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span><span class="nx">b</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">);</span><span class="nx">c</span><span class="p">.</span><span class="nx">_i</span><span class="o">=</span><span class="p">[];</span><span class="nx">c</span><span class="p">.</span><span class="nx">init</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">f</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">c</span><span class="p">;</span><span class="s2">&quot;undefined&quot;</span><span class="o">!==</span><span class="k">typeof</span> <span class="nx">f</span><span class="o">?</span><span class="nx">b</span><span class="o">=</span><span class="nx">c</span><span class="p">[</span><span class="nx">f</span><span class="p">]</span><span class="o">=</span><span class="p">[]</span><span class="o">:</span><span class="nx">f</span><span class="o">=</span><span class="s2">&quot;mixpanel&quot;</span><span class="p">;</span><span class="nx">g</span><span class="o">=</span><span class="s2">&quot;disable track track_pageview track_links track_forms register register_once unregister identify name_tag set_config&quot;</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">);</span>
            <span class="k">for</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">e</span><span class="o">&lt;</span><span class="nx">g</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">e</span><span class="o">++</span><span class="p">)(</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">b</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">b</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="nx">a</span><span class="p">].</span><span class="nx">concat</span><span class="p">(</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span><span class="mi">0</span><span class="p">)))}})(</span><span class="nx">g</span><span class="p">[</span><span class="nx">e</span><span class="p">]);</span><span class="nx">c</span><span class="p">.</span><span class="nx">_i</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">f</span><span class="p">])};</span><span class="nb">window</span><span class="p">.</span><span class="nx">mixpanel</span><span class="o">=</span><span class="nx">c</span><span class="p">})(</span><span class="nb">document</span><span class="p">,[]);</span>
            <span class="nb">window</span><span class="p">.</span><span class="nx">mixpanel</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">settings</span><span class="p">.</span><span class="nx">apiKey</span><span class="p">);</span>
        <span class="p">},</span>

        <span class="nx">identify</span> <span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">userId</span><span class="p">,</span> <span class="nx">traits</span><span class="p">)</span> <span class="p">{</span>
            <span class="nb">window</span><span class="p">.</span><span class="nx">mixpanel</span><span class="p">.</span><span class="nx">identify</span><span class="p">(</span><span class="nx">userId</span><span class="p">);</span>
            <span class="nb">window</span><span class="p">.</span><span class="nx">mixpanel</span><span class="p">.</span><span class="nx">register</span><span class="p">(</span><span class="nx">traits</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">usePeople</span><span class="p">)</span> <span class="nb">window</span><span class="p">.</span><span class="nx">mixpanel</span><span class="p">.</span><span class="nx">people</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">traits</span><span class="p">);</span>
        <span class="p">},</span>

        <span class="nx">track</span> <span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">properties</span><span class="p">)</span> <span class="p">{</span>
            <span class="nb">window</span><span class="p">.</span><span class="nx">mixpanel</span><span class="p">.</span><span class="nx">track</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">properties</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-20">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-20">&#182;</a>               </div>               <h2>Intercom</h2>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">availableProviders</span><span class="p">[</span><span class="s1">&#39;Intercom&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>

        <span class="nx">_settings</span> <span class="o">:</span> <span class="p">{},</span>

        <span class="nx">initialize</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">settings</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">_settings</span> <span class="o">=</span> <span class="nx">settings</span><span class="p">;</span>
        <span class="p">},</span>

        <span class="nx">identify</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">visitorId</span><span class="p">,</span> <span class="nx">traits</span><span class="p">)</span> <span class="p">{</span>
            <span class="nb">window</span><span class="p">.</span><span class="nx">intercomSettings</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nx">app_id</span>     <span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">_settings</span><span class="p">.</span><span class="nx">appId</span><span class="p">,</span>
                <span class="nx">email</span>      <span class="o">:</span> <span class="nx">visitorId</span><span class="p">,</span>
                <span class="nx">created_at</span> <span class="o">:</span> <span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">()).</span><span class="nx">getTime</span><span class="p">()</span>
            <span class="p">};</span>

            <span class="kd">function</span> <span class="nx">async_load</span><span class="p">()</span> <span class="p">{</span>
                <span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;script&#39;</span><span class="p">);</span>
                <span class="nx">s</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="s1">&#39;text/javascript&#39;</span><span class="p">;</span> <span class="nx">s</span><span class="p">.</span><span class="nx">async</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                <span class="nx">s</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s1">&#39;https://api.intercom.io/api/js/library.js&#39;</span><span class="p">;</span>
                <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;script&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>
                <span class="nx">x</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="nx">x</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="k">if</span> <span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">attachEvent</span><span class="p">)</span> <span class="p">{</span>
                <span class="nb">window</span><span class="p">.</span><span class="nx">attachEvent</span><span class="p">(</span><span class="s1">&#39;onload&#39;</span><span class="p">,</span> <span class="nx">async_load</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;load&#39;</span><span class="p">,</span> <span class="nx">async_load</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">};</span>

<span class="p">}).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 